---
// Deployment options cards
import { Terminal, Copy } from '@lucide/astro'
---

<section id="deploy" class="py-24 px-6">
  <div class="max-w-5xl mx-auto">
    <h2 class="animate-on-scroll text-3xl sm:text-4xl font-bold text-center mb-4">
      Choose your deployment
    </h2>
    <p class="animate-on-scroll text-neutral-600 dark:text-neutral-400 text-center mb-16 max-w-2xl mx-auto">
      One click or full control. Pick what works for you.
    </p>

    <div class="stagger-children grid md:grid-cols-3 gap-6">
      <!-- Railway -->
      <div class="p-6 rounded-2xl bg-neutral-50 dark:bg-neutral-900/50 border-2 border-blue-500/50 relative">
        <div class="absolute -top-3 left-6 px-3 py-1 bg-blue-600 dark:bg-blue-500 text-white text-xs font-semibold rounded-full">
          Recommended
        </div>
        <div class="w-12 h-12 rounded-xl bg-neutral-200 dark:bg-white/10 flex items-center justify-center mb-4">
          <svg class="w-7 h-7" viewBox="0 0 1024 1024" fill="currentColor">
            <path d="M4.756 438.175A520.713 520.713 0 0 0 0 489.735h777.799c-2.716-5.306-6.365-10.09-10.045-14.772-132.97-171.791-204.498-156.896-306.819-161.26-34.114-1.403-57.249-1.967-193.037-1.967-72.677 0-151.688.185-228.628.39-9.96 26.884-19.566 52.942-24.243 74.14h398.571v51.909H4.756ZM783.93 541.696H.399c.82 13.851 2.112 27.517 3.978 40.999h723.39c32.248 0 50.299-18.297 56.162-40.999ZM45.017 724.306S164.941 1018.77 511.46 1024c207.112 0 385.071-123.006 465.907-299.694H45.017Z" class="text-neutral-700 dark:text-white"/>
            <path d="M511.454 0C319.953 0 153.311 105.16 65.31 260.612c68.771-.144 202.704-.226 202.704-.226h.031v-.051c158.309 0 164.193.707 195.118 1.998l19.149.706c66.7 2.224 148.683 9.384 213.19 58.19 35.015 26.471 85.571 84.896 115.708 126.52 27.861 38.499 35.876 82.756 16.933 125.158-17.436 38.97-54.952 62.215-100.383 62.215H16.69s4.233 17.944 10.58 37.751h970.632A510.385 510.385 0 0 0 1024 512.218C1024.01 229.355 794.532 0 511.454 0Z" class="text-neutral-700 dark:text-white"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-2">Railway</h3>
        <p class="text-neutral-600 dark:text-neutral-400 text-sm mb-6">
          One-click deploy. Free tier available. Automatic SSL and scaling.
        </p>
        <a
          href="https://railway.com/deploy/jack-the-butler"
          class="inline-flex items-center justify-center w-full px-4 py-3 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white font-semibold rounded-xl transition-colors"
        >
          Deploy Now
        </a>
      </div>

      <!-- Render -->
      <div class="p-6 rounded-2xl bg-neutral-50 dark:bg-neutral-900/50 border border-neutral-200 dark:border-neutral-800">
        <div class="w-12 h-12 rounded-xl bg-neutral-200 dark:bg-white/10 flex items-center justify-center mb-4">
          <svg class="w-7 h-7" viewBox="0 0 21 21" fill="currentColor">
            <path d="M15.6491 0.00582604C12.9679 -0.120371 10.7133 1.81847 10.3286 4.373C10.3134 4.49154 10.2905 4.60627 10.2715 4.72099C9.67356 7.90268 6.88955 10.3119 3.5457 10.3119C2.35364 10.3119 1.23395 10.006 0.258977 9.47058C0.140914 9.40557 0 9.4897 0 9.62354V10.3081V20.6218H10.2677V12.8894C10.2677 11.4668 11.4178 10.3119 12.8346 10.3119H15.4015C18.3074 10.3119 20.6458 7.89121 20.5315 4.94662C20.4287 2.29649 18.2884 0.132023 15.6491 0.00582604Z"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-2">Render</h3>
        <p class="text-neutral-600 dark:text-neutral-400 text-sm mb-6">
          One-click deploy. Free tier available. Automatic builds from Git.
        </p>
        <a
          href="https://render.com/deploy?repo=https://github.com/JackTheButler/JackTheButler"
          class="inline-flex items-center justify-center w-full px-4 py-3 border border-neutral-300 dark:border-neutral-700 hover:border-neutral-400 dark:hover:border-neutral-500 font-semibold rounded-xl transition-colors"
        >
          Deploy Now
        </a>
      </div>

      <!-- Docker -->
      <div class="p-6 rounded-2xl bg-neutral-50 dark:bg-neutral-900/50 border border-neutral-200 dark:border-neutral-800">
        <div class="w-12 h-12 rounded-xl bg-neutral-200 dark:bg-white/10 flex items-center justify-center mb-4">
          <svg class="w-7 h-7 text-neutral-700 dark:text-white" viewBox="0 0 24 24" fill="currentColor">
            <path d="M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.186m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288z"/>
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-2">Docker</h3>
        <p class="text-neutral-600 dark:text-neutral-400 text-sm mb-6">
          Run anywhere. Single container. Perfect for VPS or on-premise.
        </p>
        <a
          href="https://github.com/JackTheButler/JackTheButler#docker"
          class="inline-flex items-center justify-center w-full px-4 py-3 border border-neutral-300 dark:border-neutral-700 hover:border-neutral-400 dark:hover:border-neutral-500 font-semibold rounded-xl transition-colors"
        >
          View Instructions
        </a>
      </div>
    </div>

    <!-- One-Line Install Card -->
    <div class="animate-on-scroll mt-8 p-8 rounded-2xl bg-neutral-900 dark:bg-neutral-800/50 border border-neutral-800 dark:border-neutral-700">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-6">
        <div class="flex items-center gap-4">
          <div class="w-12 h-12 rounded-xl bg-white/10 flex items-center justify-center shrink-0">
            <Terminal class="w-7 h-7 text-white" />
          </div>
          <div>
            <h3 class="text-xl font-semibold text-white mb-1">One-Line Install</h3>
            <p class="text-neutral-400 text-sm">Run locally in seconds. Just paste and go.</p>
          </div>
        </div>
        <div class="flex-1 md:max-w-xl">
          <div class="flex items-center gap-3 px-4 py-3 rounded-xl bg-black/30 border border-neutral-700">
            <code class="flex-1 text-sm text-emerald-400 font-mono overflow-x-auto whitespace-nowrap scrollbar-hide">curl -fsSL https://raw.githubusercontent.com/JackTheButler/JackTheButler/main/install.sh | bash</code>
            <button
              id="copy-install"
              class="shrink-0 p-2 text-neutral-400 hover:text-white transition-colors rounded-lg hover:bg-white/10"
              aria-label="Copy to clipboard"
            >
              <Copy class="w-5 h-5" />
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  const installCmd = 'curl -fsSL https://raw.githubusercontent.com/JackTheButler/JackTheButler/main/install.sh | bash';

  document.getElementById('copy-install')?.addEventListener('click', async (e) => {
    await navigator.clipboard.writeText(installCmd);
    const btn = e.currentTarget as HTMLButtonElement;
    const originalHTML = btn.innerHTML;
    btn.innerHTML = '<svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
    setTimeout(() => { btn.innerHTML = originalHTML; }, 2000);
  });
</script>
