@import "tailwindcss";
@plugin "@tailwindcss/typography";

@custom-variant dark (&:where(.dark, .dark *));

/* Page blur-to-sharp on load */
@keyframes blurToSharp {
  from {
    opacity: 0;
    filter: blur(10px);
  }
  to {
    opacity: 1;
    filter: blur(0);
  }
}

.animate-fadeIn {
  animation: blurToSharp 0.4s ease-out forwards;
}

/* Theme transition animation */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

::view-transition-old(root) {
  z-index: 1;
}

::view-transition-new(root) {
  z-index: 9999;
  animation: reveal 0.5s ease-out;
}

@keyframes reveal {
  from {
    clip-path: circle(0px at var(--x) var(--y));
  }
  to {
    clip-path: circle(var(--r) at var(--x) var(--y));
  }
}

/* Hide scrollbar */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Scroll animations */
.animate-on-scroll {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.animate-on-scroll.is-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Staggered children */
.stagger-children > * {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.5s ease-out, transform 0.5s ease-out;
}

.stagger-children.is-visible > *:nth-child(1) { transition-delay: 0ms; }
.stagger-children.is-visible > *:nth-child(2) { transition-delay: 100ms; }
.stagger-children.is-visible > *:nth-child(3) { transition-delay: 200ms; }
.stagger-children.is-visible > *:nth-child(4) { transition-delay: 300ms; }
.stagger-children.is-visible > *:nth-child(5) { transition-delay: 400ms; }
.stagger-children.is-visible > *:nth-child(6) { transition-delay: 500ms; }

.stagger-children.is-visible > * {
  opacity: 1;
  transform: translateY(0);
}

/* Hero entrance animation */
.hero-animate {
  opacity: 0;
  transform: translateY(20px);
}

.hero-animate.is-loaded {
  animation: heroFadeIn 0.6s ease-out forwards;
}

.hero-animate.delay-1 { animation-delay: 0ms; }
.hero-animate.delay-2 { animation-delay: 150ms; }
.hero-animate.delay-3 { animation-delay: 300ms; }
.hero-animate.delay-4 { animation-delay: 450ms; }

@keyframes heroFadeIn {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Scale in animation */
.scale-in {
  opacity: 0;
  transform: scale(0.95);
  transition: opacity 0.5s ease-out, transform 0.5s ease-out;
}

.scale-in.is-visible {
  opacity: 1;
  transform: scale(1);
}

/* Docs code blocks */
.prose pre {
  background-color: #e5e5e5;
  color: #171717;
  border: 1px solid #d4d4d4;
}

.dark .prose pre {
  background-color: #171717;
  color: #f5f5f5;
  border: 1px solid #262626;
}

/* Pagefind search highlight */
mark.pagefind-highlight {
  background-color: #fef08a;
  color: inherit;
  padding: 0.125rem 0.0625rem;
  border-radius: 0.125rem;
  scroll-margin-top: 6rem;
}

.dark mark.pagefind-highlight {
  background-color: #854d0e;
  color: #fef9c3;
}